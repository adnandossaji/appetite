{% extends "layout.html" %}
{% block title %}{{title}}{% endblock %}
{% block head %}
  {{ super() }}
{% endblock %}
{% block page %}{{title}}{% endblock %}
{% block heading %}
  {{ super() }}
{% endblock %}
{% block content %}

<br/>

<div class="form-horizontal">
  <div id="main">
      <div class="form-group">
        <div class="col-sm-11">
          <input type="text" class="form-control" id="inputEmail0" placeholder="Ingredient">
        </div>
        <div class="col-sm-1">
          <button id="add_input" type="submit" class="btn btn-default">+</button>
        </div>
      </div>
  </div>
  <div class="form-group">
    <div class="col-sm-10">
      <button id="submit" type="submit" class="btn btn-default">Search</button>
    </div>
  </div>
</div>

<br/>
<script>
$(function() {

    var int = 1;

    $( "#add_input" ).click(function() {

      $( "#main").append("<div class='form-group'><div class='col-sm-12'><input type='text' class='form-control' id='inputEmail" + int + "' placeholder='Ingredient'></div></div>");

      int += 1;

    });

    $( "#submit" ).click(function() {
        var ingredients = ""
        var allInputs = $( "#main input" );

        console.log(allInputs.length);

        for (i = 0; i < allInputs.length; i++) {
            ingredients +="  " + $( "#inputEmail" + i.toString()).val();
        }

        console.log(ingredients);

        window.location.replace("/recipes?ingredients=" + ingredients);


    });

});
</script>
  {% block footer %}
  {% endblock %}
{% endblock %}
